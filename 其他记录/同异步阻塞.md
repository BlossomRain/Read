# 同步，异步，阻塞，非阻塞等关系

## 本质上并没有关系

1. 同步与异步是关于指令执行顺序的。
2. 阻塞非阻塞是关于线程与进程的。
3. 两者本身并没有必然的关联系。

## 他们产生关系的领域CPU中断与IO

 没有IO操作，所有的代码基本都是同步的
		有了IO操作后，如果没有多进程多线程，所有代码还是同步的
		有了IO操作，有了多进程多线程，代码才有了异步的可能性，同时也产生了阻塞与非阻塞

## 同步与异步

所谓同步，就是发出一个功能调用时，在没有得到结果之前，该调用就不返回或继续执行后续操作。

异步与同步相对，当一个异步过程调用发出后，调用者在没有得到结果之前，就可以继续执行后续操作。

## 阻塞与非阻塞

 阻塞是指调用线程或者进程被操作系统挂起。
		非阻塞是指调用线程或者进程不会被操作系统挂起。

## 故事汇

**同步阻塞**：小明一直盯着下载进度条，到 100% 的时候就完成。 - 同步体现在：等待下载完成通知。 - 阻塞体现在：等待下载完成通知过程中，不能做其他任务处理。

**同步非阻塞**：小明提交下载任务后就去干别的，每过一段时间就去瞄一眼进度条，看到 100% 就完成。 - 同步体现在：等待下载完成通知。 - 非阻塞体现在：等待下载完成通知过程中，去干别的任务了，只是时不时会瞄一眼进度条。【小明必须要在两个任务间切换，关注下载进度】

**异步阻塞**：小明换了个有下载完成通知功能的软件，下载完成就“叮”一声。不过小明不做别的事，仍然一直等待“叮”的声音。 - 异步体现在：下载完成“叮”一声通知。 - 阻塞体现在：等待下载完成“叮”一声通知过程中，不能做其他任务处理。

**异步非阻塞**：仍然是那个会“叮”一声的下载软件，小明提交下载任务后就去干别的，听到“叮”的一声就知道完成了。 - 异步体现在：下载完成“叮”一声通知。 - 非阻塞体现在：等待下载完成“叮”一声通知过程中，去干别的任务了，只需要接收“叮”声通知即可。【软件处理下载任务，小明处理其他任务，不需关注进度，只需接收软件“叮”声通知，即可】

## 总结

同步和异步仅仅是关注的消息如何通知的机制，而阻塞与非阻塞关注的是等待消息通知时的状态。也就是说，同步的情况下，是由处理消息者自己去等待消息是否被触发，而异步的情况下是由触发机制来通知处理消息者，所以在异步机制中，处理消息者和触发机制之间就需要一个连接的桥梁。



**参考**

> https://github.com/calidion/calidion.github.io/issues/40
>
> https://www.zhihu.com/question/19732473
>
> https://blog.csdn.net/hguisu/article/details/7453390